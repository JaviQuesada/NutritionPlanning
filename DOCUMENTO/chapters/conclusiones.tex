\chapter{Conclusiones y líneas de investigación}
\label{ch:conclusiones}

\section{Conclusiones}
Este proyecto se ha centrado en la realización de un algoritmo evolutivo capaz de diseñar una planificación semanal de comidas, que permite ajustar las calorías y los nutrientes que el sujeto necesita. Además, puede identificar las alergias y las preferencias alimenticias del usuario y modificar el menú según sea conveniente. Para ello se ha utilizado \textit{Pymoo}, que proporciona una estructura muy útil para la optimización multiobjetivo. Si bien se ha usado un tipo de cruce y de selección diseñados por este framework, también se han creado métodos personalizados para la inicialización y para la mutación, que permiten generar soluciones que sean coherentes con los hábitos alimenticios.

Tras el desarrollo del algoritmo, se han utilizado 5 sujetos para comprobar la eficacia del algoritmo. Se han probado distintas configuraciones, en las que se ha variado la probabilidad de cruce y mutación, el tipo de manejo de restricciones usado o los algoritmos proporcionados por \textit{Pymoo}. Se han documentado los resultados para entender cuáles son los parámetros que más benefician a la hora de encontrar soluciones factibles para el problema.

Tras la construcción del algoritmo y las distintas pruebas realizadas, se consigue diseñar, en una gran mayoría de los casos, un menú alimenticio que cumple con las restricciones de la alergia y de los límites superiores e inferiores de calorías y macronutrientes. Las soluciones presentan una gran aptitud y se acercan mucho a los objetivos marcados. Los resultados demuestran la eficacia del algoritmo en una gran diversidad de usuarios de prueba, además de unos tiempos de ejecución dentro de unos márgenes esperados. La base de datos escogida también ha ayudado, al proporcionar una gran cantidad de alimentos entre los que formar soluciones y de datos nutricionales que facilitan la realización del proyecto.
\newpage
El trabajo ha servido para conocer más en profundidad la computación evolutiva y los algoritmos genéticos. Ha permitido entender la estructura de un algoritmo genético básico y de otros más avanzados y comprender cómo estas herramientas pueden ser de gran ayuda para mejorar los hábitos alimenticios de los consumidores, proponiendo planes nutricionales acordes a las necesidades de cada usuario.

\begin{center}
    {\color{red} \Large /// TODO: Comentar la mejor configuración encontrada ///}
\end{center}


\section{Líneas de investigación}
\label{ch:investigacion}

Tras realizar este TFG, existen ciertos conceptos en los que no se ha profundizado y que sería interesante desarrollar como ampliaciones futuras.

Para evolucionar el algoritmo y aumentar la calidad nutricional del menú, se pueden realizar varias mejoras. Si bien se han elegido 3 objetivos para simplificar el desarrollo del problema, se pueden incluir más objetivos. Uno de los que se tuvo en cuenta y se descartó es el de la correcta distribución de calorías a lo largo del día, siguiendo las pautas del Ministerio de Sanidad~\cite{alimentacion_saludable}. Su implementación en el algoritmo sería similar al objetivo y la restricción de macronutrientes

Otro aspecto a desarrollar es una mayor personalización del algoritmo en base a las preferencias del individuo. Se pueden considerar razones de religión o de ideología, o incluso la edad del usuario a la hora de aumentar o disminuir la ingesta de un alimento. También la posibilidad de elegir un alimento concreto del listado, más allá de elegir todos los que pertenecen a un mismo grupo.

También a destacar la elección de la base de datos. Se ha seleccionado la base de datos del Reino Unido debido a que es una de las más fáciles a la hora de exportar los datos y trabajar con ellos, pero presenta tres problemas. El primero es la mezcla de registros entre alimentos ya cocinados y alimentos crudos. Algunos de estos alimentos crudos se pueden ingerir directamente y otros deben pasar previamente por una cocción, por lo que es muy difícil distinguirlos y eliminar los que no se puedan consumir. El segundo problema son los alimentos y platos que aparecen. Se asemejan mucho más a los hábitos de consumo de un ciudadano inglés que al de un español, cuyos hábitos se basan en la dieta mediterránea. El tercero es el idioma, ya que todas las comidas se presentan en inglés. Tomando de referencia la base de datos \textit{''BEDCA''} (Base de Datos Española de Composición de Alimentos), la creación de una base de datos propia para el problema y en español ayudaría a mejorar el resultado que propone el algoritmo.
\newpage

Siguiendo la explicación de la sección \ref{ch:marco-teorico}, se pueden añadir más algoritmos multiobjetivo o diferentes manejos de restricciones. Cuantas más opciones se comparen, más optimizado será el resultado que proponga el algoritmo final. Un ejemplo, que no se ha incluido por la falta de eficiencia y el alto tiempo de ejecución, es una función de reparación que busca que todas las restricciones se cumplan antes de evaluar el algoritmo. El código se puede encontrar en el repositorio Github del trabajo~\cite{quesada_reparacion}.

Continuando con esta línea, es posible, al igual que se ha hecho con los operadores de inicialización y de mutación, crear más operadores personalizados, lo que concluiría con el desarrollo de un algoritmo evolutivo multiobjetivo propio que buscase rivalizar con los procedimientos ya establecidos.

Si bien no está señalado dentro de los objetivos del trabajo, se puede desarrollar el software o aplicación que albergue el algoritmo. Aunque se ha hecho un primer acercamiento con la interfaz gráfica propuesta en el apartado \ref{ch:interfaz-grafica}, se puede mejorar su estética y funcionalidad, haciéndola más intuitiva para el usuario.